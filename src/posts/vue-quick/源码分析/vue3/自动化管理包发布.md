

---

# 🧠 Vue3 发布全流程（思维导图版）
## 参考 **[Vue 是如何发布的](https://juejin.cn/post/7211539869805674551#heading-26)**
```
Vue3 发布流程
├── 本地开发
│   └── pnpm run dev
│       └── scripts/dev.mjs
│           └── vite 本地开发使用esbuild打包
│
├── 构建打包
│   └── pnpm run build
│       └── scripts/build.mjs
│           ├── 解析参数 (minimist)
│           ├── 确定打包哪些 targets（子包）
│           ├── 并发 rollup 打包
│           │   ├── 读取 rollup.config.js
│           │   ├── 每个子包分别打包成 esm/cjs/global
│           │   └── 产物输出到 dist/
│           └── 生成类型声明（pnpm run build-types）
│
├── 版本控制 & 变更检测
│   └── pnpm run release
│       └── scripts/release.mjs
│           ├── 检查 git commit 状态
│           ├── 检测变更（@changesets/cli）
│           ├── 确定版本 bump (patch / minor / major) 使用工具 semver 语义化版本
│           ├── 修改 packages 下 package.json 版本
│           ├── 生成 changelog（更新日志）
│           └── 打 git tag
│
├── 发布到 NPM
│   └── npm publish
│       └── 通过 pnpm publish --access public
│           ├── 自动处理 workspace:* 依赖
│           └── 支持 alpha / beta tag 发布
│
└── 小工具支撑
    ├── scripts/aliases.mjs（处理路径别名）
    ├── scripts/metadata.ts（子包配置）
    ├── scripts/buildUtils.ts（辅助清理/并发打包）
    └── scripts/releaseUtils.ts（辅助 release）
```

---
