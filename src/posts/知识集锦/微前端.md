---
title: 微前端架构
tags:
  - 微前端
---



`micro-app` 和 `qiankun` 都是流行的微前端框架，它们的目标一致：**实现多个子应用的独立开发、独立部署、统一接入**。但它们在架构设计、实现方式、兼容性、使用体验等方面存在明显差异。

下面是全面对比，供你做技术选型时参考：

---

## 🧱 一、基本信息对比

| 项目    | qiankun                                     | micro-app                             |
| ----- | ------------------------------------------- | ------------------------------------- |
| 作者    | 蚂蚁金服（阿里）                                    | 自主开源（社区项目）                            |
| 技术基础  | 基于 [single-spa](https://single-spa.js.org/) | 自研运行时                                 |
| 维护状态  | 稳定成熟，已广泛应用                                  | 活跃更新，功能丰富                             |
| 支持框架  | React / Vue / Angular 等                     | 所有框架，包括原生 HTML                        |
| 子应用接入 | registerMicroApps + 配置                      | 类似 Web Components，自定义标签 `<micro-app>` |
| 主打特点  | 稳定、通用、官方背景                                  | 更灵活、性能更优、更接近浏览器原生                     |

---

## ⚙️ 二、核心机制对比

| 对比维度        | qiankun                         | micro-app                      |
| ----------- | ------------------------------- | ------------------------------ |
| **运行机制**    | 基于 single-spa 的生命周期管理           | 自研沙箱 + Web Components 封装子应用    |
| **子应用渲染方式** | js 动态加载 + DOM 挂载                | 类似 iframe 的标签式加载 `<micro-app>` |
| **样式隔离**    | Shadow DOM（可选）/ CSS 沙箱          | 原生 Shadow DOM、严格隔离默认开启         |
| **JS 沙箱**   | snapshot 机制（Proxy 模拟）           | 更完整，类似 `JS 沙箱 + iframe` 效果     |
| **资源加载**    | 依赖 html-entry 插件解析 HTML         | 内置 HTML 解析器，更智能                |
| **路由模式**    | hash/history，主子共享               | 支持独立路由，子应用支持任意模式               |
| **跨框架支持**   | 较好，但需注册配置                       | 支持所有框架/静态页面/原生 HTML            |
| **通信方式**    | `props` / `globalState` / 自定义事件 | props + 内置全局通信对象 `$microApp`   |
| **性能表现**    | 初次加载较快，卸载有开销                    | 加载快，卸载更彻底（DOM 移除即销毁）           |

---

## 🚀 三、使用体验对比

| 使用对比    | qiankun                        | micro-app                                |
| ------- | ------------------------------ | ---------------------------------------- |
| 主应用接入   | `registerMicroApps([...])`，写配置 | `<micro-app name="..." url="..." />` 更直观 |
| 子应用生命周期 | mount/unmount 等                | 支持自定义事件如 `mounted/unmount`               |
| 微前端嵌套支持 | 支持（需额外配置）                      | 内建支持微前端嵌套（如 A 子应用再挂 B）                   |
| 打包兼容性   | 需设置 `publicPath` / `library`   | 更容错，即使是静态站点也能加载                          |
| 接入非框架应用 | 需封装                            | 支持纯 HTML 或静态页直接接入                        |

---

## ✅ 四、选型建议（重点）

| 场景                       | 推荐方案          | 理由                  |
| ------------------------ | ------------- | ------------------- |
| 公司已有基于 single-spa 的系统    | **qiankun**   | 成本低、社区成熟            |
| 子应用需要强隔离（样式/JS）          | **micro-app** | Shadow DOM 支持更好、更稳定 |
| 子应用不一定使用 Vue/React（如静态页） | **micro-app** | 支持所有类型子应用           |
| 新项目追求前沿架构体验              | **micro-app** | 架构更现代，组件化接入更优雅      |
| 老项目改造、用惯了 qiankun        | **qiankun**   | 成熟可靠，社区支持多          |
| 子应用有嵌套场景                 | **micro-app** | 嵌套支持原生，不需 hack      |

---

## 📦 五、对比小结

| 维度     | qiankun | micro-app |
| ------ | ------- | --------- |
| 成熟度    | ⭐⭐⭐⭐⭐   | ⭐⭐⭐⭐      |
| 灵活性    | ⭐⭐⭐     | ⭐⭐⭐⭐⭐     |
| 性能表现   | ⭐⭐⭐⭐    | ⭐⭐⭐⭐⭐     |
| 接入门槛   | ⭐⭐⭐⭐    | ⭐⭐⭐⭐⭐     |
| 未来可拓展性 | ⭐⭐⭐     | ⭐⭐⭐⭐      |
| 通信机制   | ⭐⭐⭐⭐    | ⭐⭐⭐⭐（更现代） |
| 样式隔离   | ⭐⭐⭐⭐    | ⭐⭐⭐⭐⭐（原生） |

---

## 🧩 举例说明

### ✅ qiankun 代码示例：

```js
registerMicroApps([
  {
    name: 'app1',
    entry: '//localhost:7100',
    container: '#container',
    activeRule: '/app1',
  }
]);
start();
```

### ✅ micro-app 使用示例：

```html
<micro-app name="app1" url="http://localhost:7100"></micro-app>
```

---

## 🎯 最终建议

| 你如果是...                 | 推荐使用        |
| ----------------------- | ----------- |
| 做后台系统、技术偏稳健             | `qiankun`   |
| 想做一个灵活、性能更好、支持原生/框架混合系统 | `micro-app` |
| 项目简单、无历史包袱，追求开发体验       | `micro-app` |
| 想快速上线、依赖稳定生态            | `qiankun`   |

---

