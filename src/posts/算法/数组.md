---
title: 數組
date: 2019-01-06
tags:
- 面试题
- 算法
---


## 二分法

- 数组从大到小 按照顺序排列


```js
const arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
const target = 7;
let left = 0;
let right = arr.length - 1;
let mid;
// left <= right;[左闭右闭] 区间
while (left <= right) {
    // mid = Math.floor((left + right) / 2);
    mid = left + ((right - left) >> 1) ; // 算法更优
    //  mid = left + ((right - left) >> 1)  等价于 mid = Math.floor((left + right) / 2);
    console.log(mid);
    if (arr[mid] === target) {
        console.log(`Found ${target} at index ${mid}`);
        break;
    } else if (arr[mid] < target) {
        left = mid + 1;
    } else {
        right = mid - 1;
    }
}

```

## 双指针
### 删除数组某一个元素
- 双指针技巧：使用快慢两个指针，快指针遍历数组，慢指针标记有效位置。

- 原地修改：将非目标值的元素前移，覆盖无效元素，空间复杂度 O(1)。

- 时间复杂度：O(n)，只需一次遍历。

```js
const nums = [0,1,2,3,0,4,2]
function removeElement(nums, val) {
    let slowIndex = 0;
    for (let fastIndex = 0; fastIndex < nums.length; fastIndex++) {
        if (nums[fastIndex] !== val) {
            nums[slowIndex++] = nums[fastIndex];
        }
    }
    return slowIndex;
}
function removeElement2(nums, val) {
    let slowIndex = 0,fastIndex = 0;
    while (fastIndex < nums.length) {
        if (nums[fastIndex] !== val) {
            nums[slowIndex++] = nums[fastIndex];
        }
        fastIndex++;
    }
    return slowIndex;
}
const newLength = removeElement2(nums, 2);
console.log(nums.slice(0, newLength)); // [0, 1, 3, 0, 4]

```

### 删除数组重复的元素 

有序数组删除重复的元素

```js
var removeDuplicates = function(nums) {
    if (nums.length === 0) return 0;
    let slow = 1;
    for (let fast = 1; fast < nums.length; fast++) {
        if (nums[fast] !== nums[fast - 1]) {
            nums[slow] = nums[fast];
            slow++;
        }
    }
    return slow;
};
```
## 比较含退格的字符串

```js
// 给定 s 和 t 两个字符串，当它们分别被输入到空白的文本编辑器后，如果两者相等，返回 true 。# 代表退格字符。

// 注意：如果对空文本输入退格字符，文本继续为空。

// s = "ab#c", t = "ad#c"

function backspaceCompare(s, t) {
    function process(str) {
        const stack = [];
        for (let i = 0; i < str.length; i++) {
            if (str[i] !== '#') {
                stack.push(str[i]);
            } else if (stack.length > 0) {
                stack.pop();
            }
        }
        return stack.join('');
    }

    return process(s) === process(t);
}




```
## 有序数组的平方

给你一个按 非递减顺序 排序的整数数组 nums，返回 每个数字的平方 组成的新数组，要求也按 非递减顺序 排序。

 

示例 1：

输入：nums = [-4,-1,0,3,10]
输出：[0,1,9,16,100]
解释：平方后，数组变为 [16,1,0,9,100]
排序后，数组变为 [0,1,9,16,100]
示例 2：

输入：nums = [-7,-3,2,3,11]
输出：[4,9,9,49,121]

```js
function sortedSquares(nums) {
    const n = nums.length;
    const result = new Array(n);
    let left = 0;
    let right = n - 1;
    let pos = n - 1;

    while (left <= right) {
        const leftVal = nums[left];
        const rightVal = nums[right];
        if (Math.abs(leftVal) > Math.abs(rightVal)) {
            result[pos] = leftVal * leftVal;
            left++;
        } else {
            result[pos] = rightVal * rightVal;
            right--;
        }
        pos--;
    }

    return result;
}

```