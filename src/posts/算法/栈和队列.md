---
title: 栈和队列
date: 2019-01-06
tags:
- 面试题
- 算法
---

## 有效的括号
给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串，判断字符串是否有效。

有效字符串需满足：

左括号必须用相同类型的右括号闭合。
左括号必须以正确的顺序闭合。
注意空字符串可被认为是有效字符串。

```js
var isValid = function(s) {
    const stack = [],  // 用来模拟栈，存储遇到的左括号
        map = {
            "(":")",
            "{":"}",
            "[":"]"
        };  // 括号映射表，键是左括号，值是对应的右括号

    // 遍历字符串中的每一个字符 x
    for(const x of s) {
        if(x in map) {  // 如果是左括号
            stack.push(x);  // 入栈，等待匹配对应的右括号
            continue;       // 继续下一轮循环
        };

        // 如果不是左括号，说明是右括号
        // 从栈顶弹出一个左括号，判断它对应的右括号是否和当前字符 x 相等
        if(map[stack.pop()] !== x) return false;  // 不匹配，直接返回 false
    }

    // 遍历结束后，如果栈为空，说明所有左括号都被匹配了，返回 true；否则返回 false
    return !stack.length;
};


```

##  删除字符串中的所有相邻重复项

给出由小写字母组成的字符串 S，重复项删除操作会选择两个相邻且相同的字母，并删除它们。

在 S 上反复执行重复项删除操作，直到无法继续删除。

在完成所有重复项删除操作后返回最终的字符串。答案保证唯一。

示例：

输入："abbaca"
输出："ca"
解释：例如，在 "abbaca" 中，我们可以删除 "bb" 由于两字母相邻且相同，这是此时唯一可以执行删除操作的重复项。之后我们得到字符串 "aaca"，其中又只有 "aa" 可以执行重复项删除操作，所以最后的字符串为 "ca"。

```js
var removeDuplicates = function(s) {
    const result = []  // 创建一个空数组，模拟栈，用来存放最终不重复的字符序列

    for (const i of s) {  // 遍历字符串 s 中的每个字符 i
        // 判断当前字符 i 是否和栈顶元素（即 result 最后一个字符）相同
        if (i === result[result.length - 1]) {
            result.pop()  // 如果相同，说明遇到了一对重复字符，移除栈顶字符，实现“消除”重复对
        } else {
            result.push(i)  // 如果不相同，就把当前字符入栈，继续等待下一次判断
        }
    }

    return result.join('')  // 把最后栈中剩余的字符拼成字符串返回，即删除所有相邻重复后的结果
};


```