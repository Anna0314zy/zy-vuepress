import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,e as s,o as n}from"./app-DkVa7Hgi.js";const a={};function l(o,e){return n(),r("div",null,e[0]||(e[0]=[s('<h1 id="events" tabindex="-1"><a class="header-anchor" href="#events"><span>events</span></a></h1><p><code>ultraClass/events.ts</code>ï¼ˆæˆ–è€…ç±»ä¼¼è·¯å¾„ï¼‰æ–‡ä»¶ï¼Œå®ƒä¸»è¦è´Ÿè´£ <strong>å°† PlayerSDKã€MessageServiceã€CursorService å’Œ RPC ç³»ç»Ÿç»“åˆèµ·æ¥</strong>ï¼Œå®ç°è¯¾å ‚ç«¯ï¼ˆULTRA æˆ–æ™®é€šè¯¾å ‚ï¼‰å¤šç«¯åŒæ­¥å’Œäº‹ä»¶åˆ†å‘ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯æ•´ä¸ª <strong>è¯¾å ‚äº¤äº’äº‹ä»¶çš„æ€»æ§æ¡¥æ¥å™¨</strong>ã€‚ä¸‹é¢æˆ‘ç»™ä½ æ‹†è§£æ¸…æ¥šï¼š</p><hr><h2 id="_1ï¸âƒ£-æ ¸å¿ƒèŒè´£" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-æ ¸å¿ƒèŒè´£"><span>1ï¸âƒ£ æ ¸å¿ƒèŒè´£</span></a></h2><ol><li><strong>ç»‘å®š PlayerSDK äº‹ä»¶</strong> â†’ ç»Ÿä¸€å¤„ç†æ’­æ”¾å™¨å†…éƒ¨äº‹ä»¶</li><li><strong>ç»‘å®š RPC æ–¹æ³•</strong> â†’ å¤–éƒ¨è°ƒç”¨ Player/Message/å…‰æ ‡åŠŸèƒ½</li><li><strong>ç»‘å®šå…‰æ ‡äº‹ä»¶</strong> â†’ å¤„ç†æœ¬åœ°å…‰æ ‡ä½ç½®å˜åŒ–åŠå¤šç«¯åŒæ­¥</li><li><strong>å¤„ç†ç¿»é¡µ/çŠ¶æ€å˜åŒ–äº‹ä»¶</strong> â†’ åŒ…æ‹¬å•æœºå’Œå¤šäººè¯¾å ‚ï¼ˆULTRAï¼‰</li><li><strong>åŒæ­¥ UI/è¯¾å ‚çŠ¶æ€</strong> â†’ è§¦å‘æ•™å­¦æ’ä»¶ UI æ›´æ–°ã€ç™½æ¿åŒæ­¥ç­‰</li></ol><hr><h2 id="_2ï¸âƒ£-ä¸»è¦æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-ä¸»è¦æ¨¡å—"><span>2ï¸âƒ£ ä¸»è¦æ¨¡å—</span></a></h2><h3 id="a-playersdk-äº‹ä»¶ç»‘å®š-bindplayersdkevents" tabindex="-1"><a class="header-anchor" href="#a-playersdk-äº‹ä»¶ç»‘å®š-bindplayersdkevents"><span>a) PlayerSDK äº‹ä»¶ç»‘å®š (<code>bindPlayerSDKEvents</code>)</span></a></h3><ul><li><p><code>logger</code> â†’ æ’­æ”¾å™¨å†…éƒ¨æ—¥å¿—è¾“å‡º</p></li><li><p><code>loaded</code> â†’ æ’­æ”¾å™¨åŠ è½½å®Œæˆ</p><ul><li>è°ƒç”¨ <code>messageService.playerOnLoaded</code></li><li>å¦‚æœ ULTRA å¹³å° â†’ è·å–è¯¾å ‚ä¿¡æ¯ã€åˆå§‹åŒ–çŠ¶æ€ã€ç¦ç”¨éä¸»æ§ç«¯æ“ä½œ</li></ul></li><li><p><code>changeState</code> â†’ æ’­æ”¾å™¨çŠ¶æ€å˜åŒ–</p><ul><li>è°ƒç”¨å¤–éƒ¨å›è°ƒ <code>stateChange(payload)</code></li></ul></li><li><p><code>status</code> â†’ æ’­æ”¾å™¨çŠ¶æ€æ›´æ–° â†’ UI å±•ç¤ºåŠ è½½çŠ¶æ€</p></li><li><p><code>error</code> â†’ ç¿»é¡µ/æ’­æ”¾é”™è¯¯ â†’ è°ƒç”¨ <code>playerOnError</code></p></li><li><p><code>changePage</code> â†’ ç¿»é¡µå®Œæˆ â†’ åŒæ­¥ UI ä¸ RPC</p></li><li><p><code>goToSlide</code> / <code>changeStep</code> / <code>storyBookProgress</code> â†’ å„ç±»æ’­æ”¾å™¨æ“ä½œ</p></li></ul><hr><h3 id="b-rpc-æ–¹æ³•ç»‘å®š-addrpcmethods" tabindex="-1"><a class="header-anchor" href="#b-rpc-æ–¹æ³•ç»‘å®š-addrpcmethods"><span>b) RPC æ–¹æ³•ç»‘å®š (<code>addRpcMethods</code>)</span></a></h3><p>ç»™ RPC å®¢æˆ·ç«¯æ³¨å†Œçš„æ–¹æ³•ï¼Œå…è®¸è¿œç¨‹è°ƒç”¨ï¼š</p><table><thead><tr><th>æ–¹æ³•å</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>pause/resume/reset</td><td>æ’­æ”¾å™¨æ§åˆ¶</td></tr><tr><td>muteAudio</td><td>é™éŸ³æ§åˆ¶</td></tr><tr><td>multiMode</td><td>å¤šäººæ¨¡å¼åˆ‡æ¢</td></tr><tr><td>getMultiContentRect / getCurrentPosition / getResolution</td><td>è·å–æ’­æ”¾å™¨çŠ¶æ€</td></tr><tr><td>submitQuestion / getStep / nextStep / prevStep / resetStep</td><td>è¯¾ä»¶äº¤äº’æ§åˆ¶</td></tr><tr><td>setStoryBookProgress</td><td>æ•…äº‹ä¹¦ç¿»é¡µ</td></tr><tr><td>prevPage / nextPage / goTo / enable / boot</td><td>ç¿»é¡µä¸åˆå§‹åŒ–</td></tr><tr><td>getCatalog / getManifest</td><td>è·å–ç›®å½•/å…ƒä¿¡æ¯</td></tr><tr><td>switchCursor / setDisplayName</td><td>å…‰æ ‡æ§åˆ¶</td></tr><tr><td>retry</td><td>ç¿»é¡µé‡è¯•</td></tr></tbody></table><hr><h3 id="c-å…‰æ ‡äº‹ä»¶ç»‘å®š-bindcursorevents" tabindex="-1"><a class="header-anchor" href="#c-å…‰æ ‡äº‹ä»¶ç»‘å®š-bindcursorevents"><span>c) å…‰æ ‡äº‹ä»¶ç»‘å®š (<code>bindCursorEvents</code>)</span></a></h3><ul><li><code>CursorService.changeCursor</code> â†’ å½“å…‰æ ‡ç§»åŠ¨æ—¶è§¦å‘</li><li>æ ¹æ®å¹³å°å’Œå±å¹•è®¡ç®—å…‰æ ‡ç™¾åˆ†æ¯”ä½ç½®</li><li>ULTRA å¹³å° â†’ è°ƒç”¨ <code>dispatchPluginState</code> åŒæ­¥çŠ¶æ€</li><li>é ULTRA â†’ é€šè¿‡ RPC å¹¿æ’­ç»™å…¶ä»–å®¢æˆ·ç«¯</li></ul><hr><h3 id="d-å¤šç«¯-çŠ¶æ€åŒæ­¥-changeeventhandler" tabindex="-1"><a class="header-anchor" href="#d-å¤šç«¯-çŠ¶æ€åŒæ­¥-changeeventhandler"><span>d) å¤šç«¯/çŠ¶æ€åŒæ­¥ (<code>changeEventHandler</code>)</span></a></h3><p>å½“æ”¶åˆ°è¿œç«¯çŠ¶æ€æ›´æ–°ï¼ˆç¿»é¡µ/å…‰æ ‡/çŠ¶æ€ï¼‰ï¼š</p><ol><li>åˆ¤æ–­å…‰æ ‡ä¿¡æ¯ â†’ æ›´æ–°æœ¬åœ°å…‰æ ‡</li><li>åˆ¤æ–­ç¿»é¡µä¿¡æ¯ â†’ è°ƒç”¨ <code>debounceChangePage</code> ç¿»é¡µ</li><li>åˆ¤æ–­ state â†’ ç›´æ¥è°ƒç”¨ <code>player.changeState</code></li><li>å¤šäººæ¨¡å¼ï¼ˆmultiModeï¼‰ â†’ ç¿»é¡µåŒæ­¥</li></ol><hr><h3 id="e-rpc-äº‹ä»¶ç›‘å¬-bindrpcevents" tabindex="-1"><a class="header-anchor" href="#e-rpc-äº‹ä»¶ç›‘å¬-bindrpcevents"><span>e) RPC äº‹ä»¶ç›‘å¬ (<code>bindRpcEvents</code>)</span></a></h3><ul><li>é Web å¹³å°ç›‘å¬ <code>&#39;change&#39;</code> äº‹ä»¶</li><li>è°ƒç”¨ <code>changeEventHandler</code> åŒæ­¥è¯¾å ‚çŠ¶æ€</li></ul><hr><h2 id="_3ï¸âƒ£-å¯¹æ¥å…³ç³»" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-å¯¹æ¥å…³ç³»"><span>3ï¸âƒ£ å¯¹æ¥å…³ç³»</span></a></h2><p>è¿™ä¸ªæ–‡ä»¶å°±æ˜¯ <strong>äº‹ä»¶æ¡¥æ¥å±‚</strong>ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>PlayerSDK events â†’ MessageService / CursorService â†’ RPC â†’ è¿œç«¯æˆ– ULTRA æ’ä»¶</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>PlayerSDK</strong> â†’ å†…éƒ¨äº‹ä»¶ï¼ˆç¿»é¡µã€çŠ¶æ€ã€é”™è¯¯ã€è¿›åº¦ï¼‰</li><li><strong>MessageService</strong> â†’ ç¿»é¡µã€çŠ¶æ€ç®¡ç†ã€UI æ›´æ–°</li><li><strong>CursorService</strong> â†’ å…‰æ ‡åŠ¨ç”»ã€ä½ç½®åŒæ­¥</li><li><strong>RPC</strong> â†’ å¤šç«¯äº¤äº’å’Œå¤–éƒ¨æ§åˆ¶ï¼ˆè€å¸ˆç«¯/å­¦ç”Ÿç«¯ï¼‰</li><li><strong>ULTRA Classroom</strong> â†’ ç‰¹å®šè¯¾å ‚æ’ä»¶ UI å’Œç™½æ¿åŒæ­¥</li></ul><hr><h3 id="ğŸ”¹-æ€»ç»“ä¸€å¥è¯" tabindex="-1"><a class="header-anchor" href="#ğŸ”¹-æ€»ç»“ä¸€å¥è¯"><span>ğŸ”¹ æ€»ç»“ä¸€å¥è¯</span></a></h3><p><code>bindEvents.ts</code> çš„ä½œç”¨æ˜¯ <strong>æŠŠæ’­æ”¾å™¨äº‹ä»¶ã€å…‰æ ‡äº‹ä»¶å’Œ RPC é€šä¿¡ç»Ÿä¸€ç®¡ç†ï¼Œä¿è¯å¤šäººè¯¾å ‚ã€å•æœºæ¨¡å¼ã€UI æ›´æ–°å’Œè¿œç¨‹æ§åˆ¶çš„ååŒ</strong>ã€‚</p><hr><p>å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç”»ä¸€å¼  <strong>ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ï¼ˆPlayerSDK / MessageService / CursorServiceï¼‰ + RPC + ULTRA æ’ä»¶ UI çš„äº‹ä»¶æµå›¾</strong>ï¼Œç›´è§‚å±•ç¤ºæ•´ä¸ªè¯¾å ‚äº‹ä»¶æµå’Œå¤šç«¯åŒæ­¥é€»è¾‘ã€‚</p><p>ä½ æƒ³è®©æˆ‘ç”»å—ï¼Ÿ</p>',34)]))}const c=t(a,[["render",l]]),p=JSON.parse('{"path":"/posts/%E7%9F%A5%E8%AF%86%E9%9B%86%E9%94%A6/cocos%20%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA/player/event.html","title":"events","lang":"zh-CN","frontmatter":{"description":"events ultraClass/events.tsï¼ˆæˆ–è€…ç±»ä¼¼è·¯å¾„ï¼‰æ–‡ä»¶ï¼Œå®ƒä¸»è¦è´Ÿè´£ å°† PlayerSDKã€MessageServiceã€CursorService å’Œ RPC ç³»ç»Ÿç»“åˆèµ·æ¥ï¼Œå®ç°è¯¾å ‚ç«¯ï¼ˆULTRA æˆ–æ™®é€šè¯¾å ‚ï¼‰å¤šç«¯åŒæ­¥å’Œäº‹ä»¶åˆ†å‘ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯æ•´ä¸ª è¯¾å ‚äº¤äº’äº‹ä»¶çš„æ€»æ§æ¡¥æ¥å™¨ã€‚ä¸‹é¢æˆ‘ç»™ä½ æ‹†è§£æ¸…æ¥šï¼š 1ï¸âƒ£ æ ¸å¿ƒèŒè´£ ç»‘å®š Playe...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/zy-vuepress/posts/%E7%9F%A5%E8%AF%86%E9%9B%86%E9%94%A6/cocos%20%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA/player/event.html"}],["meta",{"property":"og:site_name","content":"æˆ‘çš„åŸºåœ°"}],["meta",{"property":"og:title","content":"events"}],["meta",{"property":"og:description","content":"events ultraClass/events.tsï¼ˆæˆ–è€…ç±»ä¼¼è·¯å¾„ï¼‰æ–‡ä»¶ï¼Œå®ƒä¸»è¦è´Ÿè´£ å°† PlayerSDKã€MessageServiceã€CursorService å’Œ RPC ç³»ç»Ÿç»“åˆèµ·æ¥ï¼Œå®ç°è¯¾å ‚ç«¯ï¼ˆULTRA æˆ–æ™®é€šè¯¾å ‚ï¼‰å¤šç«¯åŒæ­¥å’Œäº‹ä»¶åˆ†å‘ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯æ•´ä¸ª è¯¾å ‚äº¤äº’äº‹ä»¶çš„æ€»æ§æ¡¥æ¥å™¨ã€‚ä¸‹é¢æˆ‘ç»™ä½ æ‹†è§£æ¸…æ¥šï¼š 1ï¸âƒ£ æ ¸å¿ƒèŒè´£ ç»‘å®š Playe..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-25T09:19:17.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-25T09:19:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"events\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-11-25T09:19:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mrs.Zoe\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"1ï¸âƒ£ æ ¸å¿ƒèŒè´£","slug":"_1ï¸âƒ£-æ ¸å¿ƒèŒè´£","link":"#_1ï¸âƒ£-æ ¸å¿ƒèŒè´£","children":[]},{"level":2,"title":"2ï¸âƒ£ ä¸»è¦æ¨¡å—","slug":"_2ï¸âƒ£-ä¸»è¦æ¨¡å—","link":"#_2ï¸âƒ£-ä¸»è¦æ¨¡å—","children":[{"level":3,"title":"a) PlayerSDK äº‹ä»¶ç»‘å®š (bindPlayerSDKEvents)","slug":"a-playersdk-äº‹ä»¶ç»‘å®š-bindplayersdkevents","link":"#a-playersdk-äº‹ä»¶ç»‘å®š-bindplayersdkevents","children":[]},{"level":3,"title":"b) RPC æ–¹æ³•ç»‘å®š (addRpcMethods)","slug":"b-rpc-æ–¹æ³•ç»‘å®š-addrpcmethods","link":"#b-rpc-æ–¹æ³•ç»‘å®š-addrpcmethods","children":[]},{"level":3,"title":"c) å…‰æ ‡äº‹ä»¶ç»‘å®š (bindCursorEvents)","slug":"c-å…‰æ ‡äº‹ä»¶ç»‘å®š-bindcursorevents","link":"#c-å…‰æ ‡äº‹ä»¶ç»‘å®š-bindcursorevents","children":[]},{"level":3,"title":"d) å¤šç«¯/çŠ¶æ€åŒæ­¥ (changeEventHandler)","slug":"d-å¤šç«¯-çŠ¶æ€åŒæ­¥-changeeventhandler","link":"#d-å¤šç«¯-çŠ¶æ€åŒæ­¥-changeeventhandler","children":[]},{"level":3,"title":"e) RPC äº‹ä»¶ç›‘å¬ (bindRpcEvents)","slug":"e-rpc-äº‹ä»¶ç›‘å¬-bindrpcevents","link":"#e-rpc-äº‹ä»¶ç›‘å¬-bindrpcevents","children":[]}]},{"level":2,"title":"3ï¸âƒ£ å¯¹æ¥å…³ç³»","slug":"_3ï¸âƒ£-å¯¹æ¥å…³ç³»","link":"#_3ï¸âƒ£-å¯¹æ¥å…³ç³»","children":[{"level":3,"title":"ğŸ”¹ æ€»ç»“ä¸€å¥è¯","slug":"ğŸ”¹-æ€»ç»“ä¸€å¥è¯","link":"#ğŸ”¹-æ€»ç»“ä¸€å¥è¯","children":[]}]}],"git":{"createdTime":1764062357000,"updatedTime":1764062357000,"contributors":[{"name":"zouyu","username":"zouyu","email":"891374900@qq.com","commits":1,"url":"https://github.com/zouyu"}]},"readingTime":{"minutes":2.55,"words":766},"filePathRelative":"posts/çŸ¥è¯†é›†é”¦/cocos å·¥ç¨‹æ„å»º/player/event.md","localizedDate":"2025å¹´11æœˆ25æ—¥","excerpt":"\\n<p><code>ultraClass/events.ts</code>ï¼ˆæˆ–è€…ç±»ä¼¼è·¯å¾„ï¼‰æ–‡ä»¶ï¼Œå®ƒä¸»è¦è´Ÿè´£ <strong>å°† PlayerSDKã€MessageServiceã€CursorService å’Œ RPC ç³»ç»Ÿç»“åˆèµ·æ¥</strong>ï¼Œå®ç°è¯¾å ‚ç«¯ï¼ˆULTRA æˆ–æ™®é€šè¯¾å ‚ï¼‰å¤šç«¯åŒæ­¥å’Œäº‹ä»¶åˆ†å‘ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯æ•´ä¸ª <strong>è¯¾å ‚äº¤äº’äº‹ä»¶çš„æ€»æ§æ¡¥æ¥å™¨</strong>ã€‚ä¸‹é¢æˆ‘ç»™ä½ æ‹†è§£æ¸…æ¥šï¼š</p>\\n<hr>\\n<h2>1ï¸âƒ£ æ ¸å¿ƒèŒè´£</h2>\\n<ol>\\n<li><strong>ç»‘å®š PlayerSDK äº‹ä»¶</strong> â†’ ç»Ÿä¸€å¤„ç†æ’­æ”¾å™¨å†…éƒ¨äº‹ä»¶</li>\\n<li><strong>ç»‘å®š RPC æ–¹æ³•</strong> â†’ å¤–éƒ¨è°ƒç”¨ Player/Message/å…‰æ ‡åŠŸèƒ½</li>\\n<li><strong>ç»‘å®šå…‰æ ‡äº‹ä»¶</strong> â†’ å¤„ç†æœ¬åœ°å…‰æ ‡ä½ç½®å˜åŒ–åŠå¤šç«¯åŒæ­¥</li>\\n<li><strong>å¤„ç†ç¿»é¡µ/çŠ¶æ€å˜åŒ–äº‹ä»¶</strong> â†’ åŒ…æ‹¬å•æœºå’Œå¤šäººè¯¾å ‚ï¼ˆULTRAï¼‰</li>\\n<li><strong>åŒæ­¥ UI/è¯¾å ‚çŠ¶æ€</strong> â†’ è§¦å‘æ•™å­¦æ’ä»¶ UI æ›´æ–°ã€ç™½æ¿åŒæ­¥ç­‰</li>\\n</ol>","autoDesc":true}');export{c as comp,p as data};
