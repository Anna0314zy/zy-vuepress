import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,e as a,o as n}from"./app-DkVa7Hgi.js";const t={};function l(h,s){return n(),e("div",null,s[0]||(s[0]=[a(`<h1 id="coursegameclient-game-sdk" tabindex="-1"><a class="header-anchor" href="#coursegameclient-game-sdk"><span>CourseGameClientï¼ˆGame-SDKï¼‰</span></a></h1><h2 id="_1-è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#_1-è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡"><span>1. è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡</span></a></h2><p><code>CourseGameClient</code> æ˜¯ Course äº’åŠ¨è¯¾ä»¶ä½“ç³»çš„<strong>å‰ç«¯æ¸¸æˆè¿è¡Œ SDK</strong>ã€‚å®ƒçš„ç›®æ ‡æ˜¯ï¼š</p><ol><li><strong>ç»Ÿä¸€æ¸¸æˆçš„çŠ¶æ€ç®¡ç†æœºåˆ¶</strong>ï¼ˆstate + propsï¼‰ã€‚</li><li><strong>è§„èŒƒå®¿ä¸»ç«¯ä¸æ¸¸æˆçš„åŒå‘é€šä¿¡åè®®</strong>ï¼ˆEventEmitter æ¶ˆæ¯äº‹ä»¶ï¼‰ã€‚</li><li><strong>æä¾›å¯æ§æ¸²æŸ“å‘¨æœŸ</strong>ï¼ˆrender â†’ useEffectï¼‰ã€‚</li><li><strong>æä¾›æ¸¸æˆå¸¸ç”¨èƒ½åŠ›çš„å°è£…</strong>ï¼ˆé™éŸ³ã€æµ‹è¯„ã€å¤–éƒ¨æ§åˆ¶ã€ç¼–è¾‘æ¨¡å¼ç­‰ï¼‰ã€‚</li><li><strong>è®©æ¸¸æˆå¼€å‘è€…â€œåªå†™é€»è¾‘ï¼Œä¸å…³å¿ƒç¯å¢ƒå·®å¼‚â€</strong>ï¼Œä½¿æ¸¸æˆå¯ä»¥æ— ç¼è¿è¡Œäºï¼šè€å¸ˆç«¯ã€å­¦ç”Ÿç«¯ã€é¢„è§ˆå™¨ã€ç¼–è¾‘å™¨ç­‰ä¸åŒå®¢æˆ·ç«¯ã€‚</li></ol><p>ä»æœ¬è´¨ä¸Šè®²ï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>è½»é‡ç‰ˆ React è¿è¡Œæ—¶ + æ¶ˆæ¯æ¡¥æ¥å±‚ + æ¸¸æˆç”Ÿå‘½å‘¨æœŸè°ƒåº¦å™¨</strong>ã€‚</p><hr><h2 id="_2-sdk-æ‰®æ¼”çš„è§’è‰²-èŒèƒ½" tabindex="-1"><a class="header-anchor" href="#_2-sdk-æ‰®æ¼”çš„è§’è‰²-èŒèƒ½"><span>2. SDK æ‰®æ¼”çš„è§’è‰²ï¼ˆèŒèƒ½ï¼‰</span></a></h2><h3 id="âœ”-2-1-æ¸¸æˆçš„è¿è¡Œå®¹å™¨-runtime" tabindex="-1"><a class="header-anchor" href="#âœ”-2-1-æ¸¸æˆçš„è¿è¡Œå®¹å™¨-runtime"><span>âœ” 2.1 æ¸¸æˆçš„è¿è¡Œå®¹å™¨ Runtime</span></a></h3><p>å®ƒç®¡ç†ï¼š</p><ul><li>æ¸¸æˆçš„â€œå†…éƒ¨çŠ¶æ€â€ <code>state</code></li><li>å®¿ä¸»ä¼ å…¥çš„â€œå¤–éƒ¨å±æ€§â€ <code>props</code></li><li>çŠ¶æ€å˜åŒ–è§¦å‘æ¸²æŸ“ <code>render()</code></li><li>render å†…éƒ¨æ‰§è¡Œâ€œå‰¯ä½œç”¨â€ <code>useEffect()</code></li></ul><p>ç±»ä¼¼ Reactï¼Œä½†æ›´è½»ã€æ›´å¯æ§ï¼Œé€‚åˆåµŒå…¥å¼å°æ¸¸æˆã€‚</p><hr><h3 id="âœ”-2-2-host-å®¿ä¸»ç«¯-ä¸æ¸¸æˆä¹‹é—´çš„é€šä¿¡æ¡¥" tabindex="-1"><a class="header-anchor" href="#âœ”-2-2-host-å®¿ä¸»ç«¯-ä¸æ¸¸æˆä¹‹é—´çš„é€šä¿¡æ¡¥"><span>âœ” 2.2 Hostï¼ˆå®¿ä¸»ç«¯ï¼‰ä¸æ¸¸æˆä¹‹é—´çš„é€šä¿¡æ¡¥</span></a></h3><p>é€šè¿‡ç»§æ‰¿ <code>EventEmitter</code>ï¼Œsdk æä¾›è§„èŒƒäº‹ä»¶ï¼š</p><p>å®¿ä¸» â†’ æ¸¸æˆï¼š</p><table><thead><tr><th>äº‹ä»¶å</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>pullState</td><td>ä¸»åŠ¨ä¸‹å‘ state ç»™æ¸¸æˆ</td></tr><tr><td>pullProps</td><td>ä¸‹å‘ props</td></tr><tr><td>mute</td><td>æ§åˆ¶æ¸¸æˆé™éŸ³</td></tr><tr><td>beginSpeechEvaluation</td><td>å¼€å§‹è¯­éŸ³æµ‹è¯„</td></tr><tr><td>onSpeechEvaluationResult</td><td>å›ä¼ æµ‹è¯„ç»“æœ</td></tr><tr><td>onSpeechEvaluationError</td><td>æµ‹è¯„å¤±è´¥</td></tr></tbody></table><p>æ¸¸æˆ â†’ å®¿ä¸»ï¼š</p><table><thead><tr><th>äº‹ä»¶å</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>pushState</td><td>æ¸¸æˆå‘Šè¯‰å®¿ä¸»â€œæˆ‘çš„ state æ›´æ–°äº†â€</td></tr><tr><td>pushProps</td><td>æ¸¸æˆè¯·æ±‚å®¿ä¸»æ›´æ–° props</td></tr><tr><td>beginSpeechEvaluation_action</td><td>æ¸¸æˆè¯·æ±‚å®¿ä¸»å¼€å§‹æµ‹è¯„</td></tr><tr><td>stopSpeakingTest_action</td><td>æ¸¸æˆè¯·æ±‚å®¿ä¸»åœæ­¢æµ‹è¯„</td></tr></tbody></table><p><strong>ç»“è®º</strong>ï¼šSDK æ˜¯æ¸¸æˆä¸å®¿ä¸»ä¹‹é—´çš„â€œåè®®å±‚â€ã€‚</p><hr><h3 id="âœ”-2-3-å†…ç½®æ¸¸æˆå¸¸ç”¨èƒ½åŠ›" tabindex="-1"><a class="header-anchor" href="#âœ”-2-3-å†…ç½®æ¸¸æˆå¸¸ç”¨èƒ½åŠ›"><span>âœ” 2.3 å†…ç½®æ¸¸æˆå¸¸ç”¨èƒ½åŠ›</span></a></h3><p>SDK å†…ç½®ï¼š</p><ul><li>ğŸ”Š é™éŸ³ onMute(callback)</li><li>ğŸ¤ å£è¯­æµ‹è¯„ beginSpeechEvaluation / stopSpeakingTest</li><li>ğŸ›  ç¼–è¾‘æ¨¡å¼ isEdit</li><li>ğŸ”„ åŒæ­¥æ¸²æŸ“ sync()</li></ul><p>è¿™äº›èƒ½åŠ›å±è”½äº†è·¨ç«¯å·®å¼‚ï¼Œä½¿æ¸¸æˆåœ¨ä»»ä½•è¿è¡Œç¯å¢ƒéƒ½èƒ½è¡¨ç°ä¸€è‡´ã€‚</p><hr><h3 id="âœ”-2-4-æ¸¸æˆç”Ÿå‘½å‘¨æœŸç®¡ç†-ç±»ä¼¼-react-runtime" tabindex="-1"><a class="header-anchor" href="#âœ”-2-4-æ¸¸æˆç”Ÿå‘½å‘¨æœŸç®¡ç†-ç±»ä¼¼-react-runtime"><span>âœ” 2.4 æ¸¸æˆç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆç±»ä¼¼ React Runtimeï¼‰</span></a></h3><p>SDK æ˜ç¡®è§„å®šæ¸²æŸ“æµç¨‹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>setState()</span></span>
<span class="line"><span>â†’ è§¦å‘ onStateChange()</span></span>
<span class="line"><span>â†’ render()</span></span>
<span class="line"><span>â†’ æ‰§è¡Œ useEffect()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¹¶é˜»æ­¢åœ¨ useEffect ä¸­å†æ¬¡ setStateï¼ˆé¿å…æ— é™å¾ªç¯ï¼‰ï¼š</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isDispatching</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  throw</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;do not setState in useEffect&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°±æ˜¯â€œå—æ§æ¸²æŸ“æ¨¡å‹â€ã€‚</p><hr><h2 id="_3-æ ¸å¿ƒè®¾è®¡ç†å¿µ" tabindex="-1"><a class="header-anchor" href="#_3-æ ¸å¿ƒè®¾è®¡ç†å¿µ"><span>3. æ ¸å¿ƒè®¾è®¡ç†å¿µ</span></a></h2><h3 id="_3-1-çŠ¶æ€é©±åŠ¨æ¸²æŸ“" tabindex="-1"><a class="header-anchor" href="#_3-1-çŠ¶æ€é©±åŠ¨æ¸²æŸ“"><span>3.1 â€œçŠ¶æ€é©±åŠ¨æ¸²æŸ“â€</span></a></h3><p>æ‰€æœ‰ UI æ›´æ–°éƒ½æ¥è‡ªä¸¤ç§è¾“å…¥ï¼š</p><ul><li>stateï¼šæ¸¸æˆè‡ªå·±çš„å†…éƒ¨çŠ¶æ€</li><li>propsï¼šå®¿ä¸»ç«¯ä¼ æ¥çš„å¤–éƒ¨å‚æ•°</li></ul><p>SDK ä¿è¯ï¼š</p><ul><li>ä¸ç›´æ¥æ“ä½œ DOMï¼ˆé¿å… iframe å·®å¼‚é—®é¢˜ï¼‰</li><li>è®©å¼€å‘è€…åªå…³å¿ƒ state â†’ render()</li></ul><p>ç®€åŒ–äº†æ¸¸æˆé€»è¾‘ã€‚</p><hr><h3 id="_3-2-host-client-è§£è€¦é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#_3-2-host-client-è§£è€¦é€šä¿¡"><span>3.2 â€œHost / Client è§£è€¦é€šä¿¡â€</span></a></h3><p>å®¿ä¸»ç«¯ä¸çŸ¥é“æ¸¸æˆå†…éƒ¨ç»“æ„ï¼Œä½†é€šè¿‡äº‹ä»¶å³å¯æ§åˆ¶æ¸¸æˆã€‚</p><p>æ¸¸æˆä¹Ÿä¸çŸ¥é“å®¿ä¸»ç«¯è¿è¡Œåœ¨å“ªï¼ˆPCã€iPadã€å°ç¨‹åºï¼‰ï¼Œä½†é€šè¿‡äº‹ä»¶å°±èƒ½ä¸å®¿ä¸»äº¤äº’ã€‚</p><p><strong>åè®®åŒ– â†’ è§£è€¦ â†’ ä½æˆæœ¬ç»´æŠ¤</strong></p><hr><h3 id="_3-3-å¯è§‚å¯Ÿã€å‰¯ä½œç”¨éš”ç¦»" tabindex="-1"><a class="header-anchor" href="#_3-3-å¯è§‚å¯Ÿã€å‰¯ä½œç”¨éš”ç¦»"><span>3.3 â€œå¯è§‚å¯Ÿã€å‰¯ä½œç”¨éš”ç¦»â€</span></a></h3><p>SDK å†…éƒ¨æ¨¡æ‹Ÿä¸€ä¸ªç®€åŒ–ç‰ˆ hooksï¼š</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">useEffect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">callback</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">deps</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä½œç”¨ï¼š</p><ul><li>æ•°æ®å˜åŒ–æ‰æ‰§è¡Œå‰¯ä½œç”¨</li><li>è‡ªåŠ¨æ‰§è¡Œæ¸…ç†å‡½æ•°</li><li>å­˜å‚¨ä¾èµ–æ•°ç»„ dep â†’ diff</li></ul><p>æ¯” React æ›´å°ï¼Œä½†å¯¹å°æ¸¸æˆé€»è¾‘å·²ç»è¶³å¤Ÿã€‚</p><hr><h2 id="_4-useeffect-å®ç°æœºåˆ¶è§£æ" tabindex="-1"><a class="header-anchor" href="#_4-useeffect-å®ç°æœºåˆ¶è§£æ"><span>4. useEffect å®ç°æœºåˆ¶è§£æ</span></a></h2><h3 id="æ•´ä½“æµç¨‹" tabindex="-1"><a class="header-anchor" href="#æ•´ä½“æµç¨‹"><span>æ•´ä½“æµç¨‹</span></a></h3><ol><li>è®°å½• depsï¼š<code>effectDeps</code></li><li>æ£€æŸ¥æ˜¯å¦å˜åŒ–</li><li>å¦‚å˜åŒ–ï¼Œåˆ™æ‰§è¡Œ cleanup()</li><li>æ‰§è¡Œ callback()</li><li>ä¿å­˜ cleanup å›è°ƒ</li><li>æ¯æ¬¡æ¸²æŸ“å‰ effectIndex é‡ç½®ä¸º 0</li></ol><p>æ„å‘³ç€ render å†…éƒ¨è°ƒç”¨ useEffect çš„é¡ºåºå¿…é¡»ç¨³å®šï¼ˆå’Œ React ä¸€æ ·ï¼‰ã€‚</p><hr><h2 id="_5-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾" tabindex="-1"><a class="header-anchor" href="#_5-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾"><span>5. ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>å®¿ä¸»ä¼ å…¥ props/state</span></span>
<span class="line"><span>        â†“</span></span>
<span class="line"><span>äº‹ä»¶è§¦å‘ pullProps / pullState</span></span>
<span class="line"><span>        â†“</span></span>
<span class="line"><span>props/state setter</span></span>
<span class="line"><span>        â†“</span></span>
<span class="line"><span>onStateChange()</span></span>
<span class="line"><span>        â†“</span></span>
<span class="line"><span>render()</span></span>
<span class="line"><span>        â†“</span></span>
<span class="line"><span>useEffect()</span></span>
<span class="line"><span>        â†“</span></span>
<span class="line"><span>ï¼ˆæ¸¸æˆå†…éƒ¨ç”»é¢æ›´æ–°ï¼‰</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¸¸æˆå†…éƒ¨æ¯ä¸€æ¬¡æ›´æ–°éƒ½éµå¾ªè¿™æ¡é“¾è·¯ï¼Œæ‰€æœ‰è¡Œä¸ºéƒ½æœ‰æºå¤´ï¼Œå¯è®°å½•ã€å¯è°ƒè¯•ã€å¯å›æ”¾ã€‚</p><hr><h2 id="_6-api-è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_6-api-è¯´æ˜"><span>6. API è¯´æ˜</span></a></h2><h3 id="_6-1-çŠ¶æ€ç›¸å…³" tabindex="-1"><a class="header-anchor" href="#_6-1-çŠ¶æ€ç›¸å…³"><span>6.1 çŠ¶æ€ç›¸å…³</span></a></h3><table><thead><tr><th>API</th><th>æè¿°</th></tr></thead><tbody><tr><td>setState(partial)</td><td>åˆå¹¶å†…éƒ¨ stateï¼Œå¹¶é€šçŸ¥å®¿ä¸»</td></tr><tr><td>state getter</td><td>è·å–å†…éƒ¨ stateï¼ˆä¸å­˜åœ¨åˆ™åˆ›å»ºé»˜è®¤å€¼ï¼‰</td></tr><tr><td>state setter</td><td>è®¾ç½®å®Œæ•´ stateï¼Œå¹¶è§¦å‘æ¸²æŸ“</td></tr></tbody></table><hr><h3 id="_6-2-å±æ€§-props" tabindex="-1"><a class="header-anchor" href="#_6-2-å±æ€§-props"><span>6.2 å±æ€§ props</span></a></h3><p>props ç”±å®¿ä¸»é©±åŠ¨ï¼š</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;pullProps&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">props</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">props</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> props</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> })</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ¸¸æˆä¸å¯ç›´æ¥ä¿®æ”¹ propsï¼Œåªèƒ½è¯·æ±‚ï¼š</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setProps</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> })</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®¿ä¸»å†å†³å®šæ˜¯å¦æ¥å—ï¼ˆå•å‘æ•°æ®æµï¼‰ã€‚</p><hr><h3 id="_6-3-å‰¯ä½œç”¨-useeffect" tabindex="-1"><a class="header-anchor" href="#_6-3-å‰¯ä½œç”¨-useeffect"><span>6.3 å‰¯ä½œç”¨ useEffect</span></a></h3><p>ä¸ React ç±»ä¼¼ï¼Œç”¨äºï¼š</p><ul><li>ç›‘å¬ props/state å˜åŒ–</li><li>æ³¨å†Œäº‹ä»¶</li><li>æ‰§è¡ŒåŠ¨ç”»</li><li>ç»‘å®šå¤–éƒ¨èµ„æº</li></ul><hr><h3 id="_6-4-å®¿ä¸»èƒ½åŠ›å°è£…" tabindex="-1"><a class="header-anchor" href="#_6-4-å®¿ä¸»èƒ½åŠ›å°è£…"><span>6.4 å®¿ä¸»èƒ½åŠ›å°è£…</span></a></h3><h4 id="é™éŸ³" tabindex="-1"><a class="header-anchor" href="#é™éŸ³"><span>é™éŸ³</span></a></h4><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onMute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">cb</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="è¯­éŸ³æµ‹è¯„" tabindex="-1"><a class="header-anchor" href="#è¯­éŸ³æµ‹è¯„"><span>è¯­éŸ³æµ‹è¯„</span></a></h4><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">beginSpeechEvaluation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">content</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stopSpeakingTest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¹¶æ¥å—å®¿ä¸»è¿”å›ï¼š</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">onbeginSpeechEvaluation</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">onStopSpeakingTest</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">ononSpeechEvaluationError</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç¼–è¾‘æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘æ¨¡å¼"><span>ç¼–è¾‘æ¨¡å¼</span></a></h4><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isEdit</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="_7-init-æ³¨å†Œæœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#_7-init-æ³¨å†Œæœºåˆ¶"><span>7. init() æ³¨å†Œæœºåˆ¶</span></a></h2><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">static</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CourseGameSdk</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    getGameClient</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__CREATE_GAME_INSTANCE__</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿å¤–éƒ¨ä»»ä½•ç«¯éƒ½å¯ä»¥ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">CourseGameSdk</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getGameClient</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä» iframe å†…æ‹¿åˆ°å½“å‰æ¸¸æˆå®ä¾‹ï¼Œå®ç°è·¨ iframe çš„â€œå”¯ä¸€å®ä¾‹è®¿é—®â€ã€‚</p><hr><h2 id="_8-ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_8-ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡"><span>8. ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</span></a></h2><h3 id="ğŸ‘-8-1-æ¯”-react-vue-æ›´è½»" tabindex="-1"><a class="header-anchor" href="#ğŸ‘-8-1-æ¯”-react-vue-æ›´è½»"><span>ğŸ‘ 8.1 æ¯” React/Vue æ›´è½»</span></a></h3><p>å°æ¸¸æˆæ— éœ€å®Œæ•´æ¡†æ¶ï¼Œä»…éœ€ï¼š</p><ul><li>çŠ¶æ€</li><li>æ¸²æŸ“å‘¨æœŸ</li><li>å‰¯ä½œç”¨</li><li>é€šä¿¡</li></ul><p>SDK å°±æ˜¯åªä¿ç•™å¿…è¦éƒ¨åˆ†çš„â€œReact Runtimeâ€ã€‚</p><hr><h3 id="ğŸ‘-8-2-å¼ºåˆ¶æ‰€æœ‰å˜åŒ–éƒ½æœ‰æ¥æº-å¯è¿½è¸ª" tabindex="-1"><a class="header-anchor" href="#ğŸ‘-8-2-å¼ºåˆ¶æ‰€æœ‰å˜åŒ–éƒ½æœ‰æ¥æº-å¯è¿½è¸ª"><span>ğŸ‘ 8.2 å¼ºåˆ¶æ‰€æœ‰å˜åŒ–éƒ½æœ‰æ¥æºï¼ˆå¯è¿½è¸ªï¼‰</span></a></h3><p>é“¾è·¯ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>setState â†’ onStateChange â†’ render â†’ useEffect</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä»»ä½• UI é—®é¢˜éƒ½èƒ½å®šä½åˆ° state æµç¨‹ï¼Œæ— â€œé‡ç”Ÿé€»è¾‘â€ã€‚</p><hr><h3 id="ğŸ‘-8-3-è·¨ç«¯ä¸€è‡´æ€§" tabindex="-1"><a class="header-anchor" href="#ğŸ‘-8-3-è·¨ç«¯ä¸€è‡´æ€§"><span>ğŸ‘ 8.3 è·¨ç«¯ä¸€è‡´æ€§</span></a></h3><p>å„å¹³å°è¡¨ç°ä¸€è‡´ï¼Œå› ä¸ºï¼š</p><ul><li>æ²¡æœ‰ç›´æ¥ DOM æ“ä½œ</li><li>ç”¨äº‹ä»¶åè®®æ¡¥æ¥å®¿ä¸»</li><li>ç”Ÿå‘½å‘¨æœŸå¯æ§</li></ul><hr><h3 id="ğŸ‘-8-4-æ–¹ä¾¿ç¼–è¾‘å™¨æ¥å…¥" tabindex="-1"><a class="header-anchor" href="#ğŸ‘-8-4-æ–¹ä¾¿ç¼–è¾‘å™¨æ¥å…¥"><span>ğŸ‘ 8.4 æ–¹ä¾¿ç¼–è¾‘å™¨æ¥å…¥</span></a></h3><p>ç¼–è¾‘å™¨å¯ä»¥éšæ—¶æ›´æ”¹ props/stateï¼Œè§¦å‘æ¸¸æˆå³æ—¶åˆ·æ–°ã€‚</p><hr><h3 id="ğŸ‘-8-5-æ¸¸æˆé€»è¾‘ä¸ä¸å¹³å°ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#ğŸ‘-8-5-æ¸¸æˆé€»è¾‘ä¸ä¸å¹³å°ç»‘å®š"><span>ğŸ‘ 8.5 æ¸¸æˆé€»è¾‘ä¸ä¸å¹³å°ç»‘å®š</span></a></h3><p>æ¸¸æˆä»£ç ä¸éœ€è¦çŸ¥é“è¿è¡Œåœ¨ï¼š</p><ul><li>Web ç«¯</li><li>ç¼–è¾‘å™¨</li><li>App å†…åµŒå¼•æ“</li><li>å°ç¨‹åº</li></ul><p>åªéœ€å’Œ SDK äº¤äº’ã€‚</p><hr><h2 id="_9-å…¸å‹ä½¿ç”¨æ–¹å¼-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_9-å…¸å‹ä½¿ç”¨æ–¹å¼-ç¤ºä¾‹"><span>9. å…¸å‹ä½¿ç”¨æ–¹å¼ï¼ˆç¤ºä¾‹ï¼‰</span></a></h2><p>æ¸¸æˆé€»è¾‘ï¼š</p><div class="language-ts line-numbers-mode" data-highlighter="shiki" data-ext="ts" data-title="ts" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> client</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> CourseGameClient</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getDefaultState</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ({</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  score</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">render</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  const</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">score</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">state</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">useEffect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;score changed!&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">score</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">score</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®¿ä¸»å‘é€æ•°æ®ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">game</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">emit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;pullState&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">score</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> })</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ¸¸æˆè¯·æ±‚å®¿ä¸»ï¼š</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({ </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">score</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">state</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">score</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> })</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h1 id="æ€»ç»“-ä¸€å¥è¯" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-ä¸€å¥è¯"><span>æ€»ç»“ï¼ˆä¸€å¥è¯ï¼‰</span></a></h1><p><code>CourseGameClient</code> æ˜¯ä¸€ä¸ªï¼š</p><p>ğŸ‘‰ <strong>è½»é‡çº§ React-like æ¸²æŸ“å¼•æ“ + æ¸¸æˆäº‹ä»¶åè®®å±‚ + å®¿ä¸»èƒ½åŠ›å°è£…å±‚</strong></p><p>å®ƒè®©æ¸¸æˆå…·æœ‰ç»Ÿä¸€ã€å¯æ§ã€è·¨ç«¯ä¸€è‡´çš„è¿è¡Œæ—¶ã€‚</p><hr>`,128)]))}const d=i(t,[["render",l]]),k=JSON.parse('{"path":"/posts/%E7%9F%A5%E8%AF%86%E9%9B%86%E9%94%A6/cocos%20%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA/CourseGameClient.html","title":"CourseGameClientï¼ˆGame-SDKï¼‰","lang":"zh-CN","frontmatter":{"description":"CourseGameClientï¼ˆGame-SDKï¼‰ 1. è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡ CourseGameClient æ˜¯ Course äº’åŠ¨è¯¾ä»¶ä½“ç³»çš„å‰ç«¯æ¸¸æˆè¿è¡Œ SDKã€‚å®ƒçš„ç›®æ ‡æ˜¯ï¼š ç»Ÿä¸€æ¸¸æˆçš„çŠ¶æ€ç®¡ç†æœºåˆ¶ï¼ˆstate + propsï¼‰ã€‚ è§„èŒƒå®¿ä¸»ç«¯ä¸æ¸¸æˆçš„åŒå‘é€šä¿¡åè®®ï¼ˆEventEmitter æ¶ˆæ¯äº‹ä»¶ï¼‰ã€‚ æä¾›å¯æ§æ¸²æŸ“å‘¨æœŸï¼ˆrender â†’ useEff...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/zy-vuepress/posts/%E7%9F%A5%E8%AF%86%E9%9B%86%E9%94%A6/cocos%20%E5%B7%A5%E7%A8%8B%E6%9E%84%E5%BB%BA/CourseGameClient.html"}],["meta",{"property":"og:site_name","content":"æˆ‘çš„åŸºåœ°"}],["meta",{"property":"og:title","content":"CourseGameClientï¼ˆGame-SDKï¼‰"}],["meta",{"property":"og:description","content":"CourseGameClientï¼ˆGame-SDKï¼‰ 1. è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡ CourseGameClient æ˜¯ Course äº’åŠ¨è¯¾ä»¶ä½“ç³»çš„å‰ç«¯æ¸¸æˆè¿è¡Œ SDKã€‚å®ƒçš„ç›®æ ‡æ˜¯ï¼š ç»Ÿä¸€æ¸¸æˆçš„çŠ¶æ€ç®¡ç†æœºåˆ¶ï¼ˆstate + propsï¼‰ã€‚ è§„èŒƒå®¿ä¸»ç«¯ä¸æ¸¸æˆçš„åŒå‘é€šä¿¡åè®®ï¼ˆEventEmitter æ¶ˆæ¯äº‹ä»¶ï¼‰ã€‚ æä¾›å¯æ§æ¸²æŸ“å‘¨æœŸï¼ˆrender â†’ useEff..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-19T08:07:06.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-19T08:07:06.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"CourseGameClientï¼ˆGame-SDKï¼‰\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-11-19T08:07:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mrs.Zoe\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"1. è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡","slug":"_1-è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡","link":"#_1-è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡","children":[]},{"level":2,"title":"2. SDK æ‰®æ¼”çš„è§’è‰²ï¼ˆèŒèƒ½ï¼‰","slug":"_2-sdk-æ‰®æ¼”çš„è§’è‰²-èŒèƒ½","link":"#_2-sdk-æ‰®æ¼”çš„è§’è‰²-èŒèƒ½","children":[{"level":3,"title":"âœ” 2.1 æ¸¸æˆçš„è¿è¡Œå®¹å™¨ Runtime","slug":"âœ”-2-1-æ¸¸æˆçš„è¿è¡Œå®¹å™¨-runtime","link":"#âœ”-2-1-æ¸¸æˆçš„è¿è¡Œå®¹å™¨-runtime","children":[]},{"level":3,"title":"âœ” 2.2 Hostï¼ˆå®¿ä¸»ç«¯ï¼‰ä¸æ¸¸æˆä¹‹é—´çš„é€šä¿¡æ¡¥","slug":"âœ”-2-2-host-å®¿ä¸»ç«¯-ä¸æ¸¸æˆä¹‹é—´çš„é€šä¿¡æ¡¥","link":"#âœ”-2-2-host-å®¿ä¸»ç«¯-ä¸æ¸¸æˆä¹‹é—´çš„é€šä¿¡æ¡¥","children":[]},{"level":3,"title":"âœ” 2.3 å†…ç½®æ¸¸æˆå¸¸ç”¨èƒ½åŠ›","slug":"âœ”-2-3-å†…ç½®æ¸¸æˆå¸¸ç”¨èƒ½åŠ›","link":"#âœ”-2-3-å†…ç½®æ¸¸æˆå¸¸ç”¨èƒ½åŠ›","children":[]},{"level":3,"title":"âœ” 2.4 æ¸¸æˆç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆç±»ä¼¼ React Runtimeï¼‰","slug":"âœ”-2-4-æ¸¸æˆç”Ÿå‘½å‘¨æœŸç®¡ç†-ç±»ä¼¼-react-runtime","link":"#âœ”-2-4-æ¸¸æˆç”Ÿå‘½å‘¨æœŸç®¡ç†-ç±»ä¼¼-react-runtime","children":[]}]},{"level":2,"title":"3. æ ¸å¿ƒè®¾è®¡ç†å¿µ","slug":"_3-æ ¸å¿ƒè®¾è®¡ç†å¿µ","link":"#_3-æ ¸å¿ƒè®¾è®¡ç†å¿µ","children":[{"level":3,"title":"3.1 â€œçŠ¶æ€é©±åŠ¨æ¸²æŸ“â€","slug":"_3-1-çŠ¶æ€é©±åŠ¨æ¸²æŸ“","link":"#_3-1-çŠ¶æ€é©±åŠ¨æ¸²æŸ“","children":[]},{"level":3,"title":"3.2 â€œHost / Client è§£è€¦é€šä¿¡â€","slug":"_3-2-host-client-è§£è€¦é€šä¿¡","link":"#_3-2-host-client-è§£è€¦é€šä¿¡","children":[]},{"level":3,"title":"3.3 â€œå¯è§‚å¯Ÿã€å‰¯ä½œç”¨éš”ç¦»â€","slug":"_3-3-å¯è§‚å¯Ÿã€å‰¯ä½œç”¨éš”ç¦»","link":"#_3-3-å¯è§‚å¯Ÿã€å‰¯ä½œç”¨éš”ç¦»","children":[]}]},{"level":2,"title":"4. useEffect å®ç°æœºåˆ¶è§£æ","slug":"_4-useeffect-å®ç°æœºåˆ¶è§£æ","link":"#_4-useeffect-å®ç°æœºåˆ¶è§£æ","children":[{"level":3,"title":"æ•´ä½“æµç¨‹","slug":"æ•´ä½“æµç¨‹","link":"#æ•´ä½“æµç¨‹","children":[]}]},{"level":2,"title":"5. ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾","slug":"_5-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾","link":"#_5-ç”Ÿå‘½å‘¨æœŸæµç¨‹å›¾","children":[]},{"level":2,"title":"6. API è¯´æ˜","slug":"_6-api-è¯´æ˜","link":"#_6-api-è¯´æ˜","children":[{"level":3,"title":"6.1 çŠ¶æ€ç›¸å…³","slug":"_6-1-çŠ¶æ€ç›¸å…³","link":"#_6-1-çŠ¶æ€ç›¸å…³","children":[]},{"level":3,"title":"6.2 å±æ€§ props","slug":"_6-2-å±æ€§-props","link":"#_6-2-å±æ€§-props","children":[]},{"level":3,"title":"6.3 å‰¯ä½œç”¨ useEffect","slug":"_6-3-å‰¯ä½œç”¨-useeffect","link":"#_6-3-å‰¯ä½œç”¨-useeffect","children":[]},{"level":3,"title":"6.4 å®¿ä¸»èƒ½åŠ›å°è£…","slug":"_6-4-å®¿ä¸»èƒ½åŠ›å°è£…","link":"#_6-4-å®¿ä¸»èƒ½åŠ›å°è£…","children":[]}]},{"level":2,"title":"7. init() æ³¨å†Œæœºåˆ¶","slug":"_7-init-æ³¨å†Œæœºåˆ¶","link":"#_7-init-æ³¨å†Œæœºåˆ¶","children":[]},{"level":2,"title":"8. ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ","slug":"_8-ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡","link":"#_8-ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡","children":[{"level":3,"title":"ğŸ‘ 8.1 æ¯” React/Vue æ›´è½»","slug":"ğŸ‘-8-1-æ¯”-react-vue-æ›´è½»","link":"#ğŸ‘-8-1-æ¯”-react-vue-æ›´è½»","children":[]},{"level":3,"title":"ğŸ‘ 8.2 å¼ºåˆ¶æ‰€æœ‰å˜åŒ–éƒ½æœ‰æ¥æºï¼ˆå¯è¿½è¸ªï¼‰","slug":"ğŸ‘-8-2-å¼ºåˆ¶æ‰€æœ‰å˜åŒ–éƒ½æœ‰æ¥æº-å¯è¿½è¸ª","link":"#ğŸ‘-8-2-å¼ºåˆ¶æ‰€æœ‰å˜åŒ–éƒ½æœ‰æ¥æº-å¯è¿½è¸ª","children":[]},{"level":3,"title":"ğŸ‘ 8.3 è·¨ç«¯ä¸€è‡´æ€§","slug":"ğŸ‘-8-3-è·¨ç«¯ä¸€è‡´æ€§","link":"#ğŸ‘-8-3-è·¨ç«¯ä¸€è‡´æ€§","children":[]},{"level":3,"title":"ğŸ‘ 8.4 æ–¹ä¾¿ç¼–è¾‘å™¨æ¥å…¥","slug":"ğŸ‘-8-4-æ–¹ä¾¿ç¼–è¾‘å™¨æ¥å…¥","link":"#ğŸ‘-8-4-æ–¹ä¾¿ç¼–è¾‘å™¨æ¥å…¥","children":[]},{"level":3,"title":"ğŸ‘ 8.5 æ¸¸æˆé€»è¾‘ä¸ä¸å¹³å°ç»‘å®š","slug":"ğŸ‘-8-5-æ¸¸æˆé€»è¾‘ä¸ä¸å¹³å°ç»‘å®š","link":"#ğŸ‘-8-5-æ¸¸æˆé€»è¾‘ä¸ä¸å¹³å°ç»‘å®š","children":[]}]},{"level":2,"title":"9. å…¸å‹ä½¿ç”¨æ–¹å¼ï¼ˆç¤ºä¾‹ï¼‰","slug":"_9-å…¸å‹ä½¿ç”¨æ–¹å¼-ç¤ºä¾‹","link":"#_9-å…¸å‹ä½¿ç”¨æ–¹å¼-ç¤ºä¾‹","children":[]}],"git":{"createdTime":1763539626000,"updatedTime":1763539626000,"contributors":[{"name":"zouyu","username":"zouyu","email":"891374900@qq.com","commits":1,"url":"https://github.com/zouyu"}]},"readingTime":{"minutes":4.61,"words":1384},"filePathRelative":"posts/çŸ¥è¯†é›†é”¦/cocos å·¥ç¨‹æ„å»º/CourseGameClient.md","localizedDate":"2025å¹´11æœˆ19æ—¥","excerpt":"\\n<h2>1. è®¾è®¡èƒŒæ™¯ä¸ç›®æ ‡</h2>\\n<p><code>CourseGameClient</code> æ˜¯ Course äº’åŠ¨è¯¾ä»¶ä½“ç³»çš„<strong>å‰ç«¯æ¸¸æˆè¿è¡Œ SDK</strong>ã€‚å®ƒçš„ç›®æ ‡æ˜¯ï¼š</p>\\n<ol>\\n<li><strong>ç»Ÿä¸€æ¸¸æˆçš„çŠ¶æ€ç®¡ç†æœºåˆ¶</strong>ï¼ˆstate + propsï¼‰ã€‚</li>\\n<li><strong>è§„èŒƒå®¿ä¸»ç«¯ä¸æ¸¸æˆçš„åŒå‘é€šä¿¡åè®®</strong>ï¼ˆEventEmitter æ¶ˆæ¯äº‹ä»¶ï¼‰ã€‚</li>\\n<li><strong>æä¾›å¯æ§æ¸²æŸ“å‘¨æœŸ</strong>ï¼ˆrender â†’ useEffectï¼‰ã€‚</li>\\n<li><strong>æä¾›æ¸¸æˆå¸¸ç”¨èƒ½åŠ›çš„å°è£…</strong>ï¼ˆé™éŸ³ã€æµ‹è¯„ã€å¤–éƒ¨æ§åˆ¶ã€ç¼–è¾‘æ¨¡å¼ç­‰ï¼‰ã€‚</li>\\n<li><strong>è®©æ¸¸æˆå¼€å‘è€…â€œåªå†™é€»è¾‘ï¼Œä¸å…³å¿ƒç¯å¢ƒå·®å¼‚â€</strong>ï¼Œä½¿æ¸¸æˆå¯ä»¥æ— ç¼è¿è¡Œäºï¼šè€å¸ˆç«¯ã€å­¦ç”Ÿç«¯ã€é¢„è§ˆå™¨ã€ç¼–è¾‘å™¨ç­‰ä¸åŒå®¢æˆ·ç«¯ã€‚</li>\\n</ol>","autoDesc":true}');export{d as comp,k as data};
